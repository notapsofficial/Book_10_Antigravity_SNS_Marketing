# Part 2｜Antigravityを制御層として使う

## 第1章：概念のインストール

### 1-1. クラウドインフラとしてのSNS運用

#### 思考のプロセス：現場監督から設計者へ

AWSやKubernetesに馴染みのあるエンジニアであれば、この概念は非常に親和性が高いはずです。
SNS運用におけるタスクは、従来「現場での肉体労働」として語られてきました。
しかし、私はこれを**インフラストラクチャ（Infrastructure）**の視点で整理し直してみることにしました。

私が実践している Antigravity モデルでは、運用を以下の二つの層に分けて考えています。

| 領域           | 従来のアプローチ                     | Antigravity のアプローチ         |
| :------------- | :----------------------------------- | :------------------------------- |
| **パラダイム** | **Data Plane (実行層)**              | **Control Plane (制御層)**       |
| **主な作業**   | 投稿作成、リプライ、エンゲージメント | ルール策定、設定変更、承認フロー |
| **資産性**     | フロー（その場で消費される）         | コード（資産として残る）         |

##### 検討の経緯：なぜこの分離が必要か
最初は私も、Chat画面で都度「これについて書いて」と指示していました（Data Planeでの作業）。
しかし、これでは毎回「どんなトーンだっけ？」「ターゲットは誰だっけ？」という再定義が必要になります。
これは、サーバーを立てるたびに手動でSSHログインして `apt-get install` を叩くようなものです。

**Infrastructure as Code (IaC)** の思想同様、SNS運用も「設定ファイル（プロンプト）」としてコード化し、それを適用する方式に切り替えるべきだ。
そう考えたのが、この「制御層」という発想の原点です。

### 1-2. 「編集者」という立ち位置

このモデルにおいて、あなたの役割は「ライター」から**「編集長（Editor in Chief）」**へと変わります。

*   **ライターの悩み**: 「白い画面を埋めなければならない」というプレッシャー（0→1）。
*   **編集長の仕事**: 「上がってきた原稿が良いか悪いか」を判断する責務（Check & Review）。

文章をゼロから書くのはクリエイティブで高負荷なタスクですが、ある程度の案に対して「これは自分らしくない」「ここはもっと具体的に」と修正指示を出すのは、論理的で低負荷なタスクです。
エンジニアである我々は、この「論理的な判断（Review）」の領域で戦うべきです。

## 第2章：プロンプトエンジニアリング＝仕様書作成

### 2-1. 解像度を高める

#### 思考のプロセス：なぜAIは「微妙な」回答をするのか

プロンプトを書くとき、多くの人が陥る罠があります。
「エンジニア向けの役立つ情報をツイートして」
と頼んでしまうことです。

これに対し、AIは「プログラミングは楽しいですよ！学習頑張りましょう！」といった、当たり障りのない（そして誰にも刺さらない）回答を返してきます。
これを「AIが賢くないからだ」と断じるのは早計です。
これは、**「要件定義（Requirement Definition）」の不備**です。

もしあなたが業務委託のエンジニアに、「なんかいい感じのアプリ作って」と発注したらどうなるでしょうか？
間違いなく、期待外れのものが納品されるでしょう。それと同じことが起きているのです。

### 2-2. 構造化プロンプトの実装

私は試行錯誤の末、自然言語ではなく、**構造化データ（XMLやMarkdown）**としてプロンプトを記述する方式にたどり着きました。
AI（特にLLM）はコードの構造を理解するのが得意だからです。

#### 具体的な比較：Bad vs Good

**❌ Bad: 自然言語での曖昧な指示**
```text
エンジニア向けの役立つ情報をツイートして。
バズる感じで、でも炎上はしないように気をつけて。
```
*   **結果**: 定義が曖昧なため、AIは「安全策」を取り、退屈な一般論を生成します。

**⭕️ Good: 構造化された仕様書**
```markdown
# Role Definition
あなたは「歴15年のシニアバックエンドエンジニア」です。
技術的負債と戦ってきた背景を持ち、表面的なトレンドよりも「堅牢性」や「保守性」を重視します。

# Tone & Style
*   **Voice**: 断定調（「〜だ」「〜である」）。
*   **Anti-Pattern**: 絵文字は禁止。精神論（「頑張ろう」等）も禁止。
*   **Key Value**: 客観的な事実と、経験に基づく失敗談を提供する。

# Task
上記ロールに基づき、以下のトピックについて投稿案を3つ作成してください。
Topic: マイクロサービス化の失敗事例
```

#### Tips: 仕様書の「壁打ち」もAIに頼む
ここまで書くのが面倒だと感じるかもしれません。
そんな時は、それ自体をAIに頼むというメタ的な解決策があります。
**「私はこういう役割を演じてほしいのだが、AIであるあなたにとって、どのような指示だと最も理解しやすいか？ テンプレートを作ってくれ」**
と聞いてみてください。彼らは喜んで、自身の仕様に最適化されたフォーマットを提案してくれます。

## 第3章：運用のアジャイル化

### 3-1. ルールをデプロイする

#### 思考のプロセス：個別の修正よりルールの修正

運用を続けていると、AIの出力に違和感を感じることが必ずあります。
「ちょっと攻撃的すぎるな」とか「ターゲットがズレてきたな」といった場合です。

従来の手動運用（Data Plane）アプローチでは、その場のツイートを書き直して終わりでした。
しかし、Control Plane アプローチでは違います。

**「なぜAIはこのツイートを出力したのか？」** を考え、根本原因である**プロンプト（ソースコード）を修正**します。

*   攻撃的すぎる → `# Tone` セクションに「批判的になりすぎないよう、代替案を必ず提示すること」という制約（Constraint）を追加する。
*   ターゲットがズレた → `# Target` セクションに「初学者ではなく、中級者を対象とする」と明記する。

これはソフトウェア開発における**「パッチの適用（Hotfix）」**や**「デプロイ」**と同じ感覚です。
一箇所の修正が、それ以降生成されるすべてのコンテンツ（未来の数千ツイート）に反映される。
このレバレッジの効き方こそが、システム化の醍醐味です。

### 3-2. システムオーナーとしての責務

AIを活用する上で、一つだけ譲れないものがあります。
それは**「最終責任（Accountability）」**です。

AIが幻覚（ハルシネーション）を見て嘘をついたり、不適切な表現をしたりする可能性はゼロではありません。
その時、「AIが勝手にやった」と言うのは、システムオーナーとして失格です。

*   AIが不正確な情報を出した
    → 「事実は必ず検索（Browsing）機能を使って裏取りすること」というルールを追加する。
*   AIが不適切な表現をした
    → 「特定の属性への攻撃を禁ずる」というガードレールを作成する。

AIのミスは、あなたの**指示のバグ**です。
バグを見つけたら、修正（デバッグ）すればいい。
その繰り返しによって、あなたの「分身」は、より頼もしく、より正確な相棒へと育っていきます。

## 第4章：この章のまとめ

### 確認事項
*   [x] 運用を「Control Plane（戦略）」と「Data Plane（実行）」に分けて考える。
*   [x] 自身の役割を「ライター」ではなく「編集長兼設計者」と定義する。
*   [x] 自然言語ではなく、構造化された「仕様書」としてプロンプトを書く。
*   [x] ミスが発生したら、個別の修正ではなく、プロンプト自体の修正（デバッグ）で対応する。

設計図ができあがりました。
次章では、この設計図を実際のプラットフォーム（X）に接続するための、具体的な手順について解説します。
APIの設定など、少しテクニカルな部分に入りますが、手順通りに進めれば大丈夫です。
