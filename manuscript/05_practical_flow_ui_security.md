# Part 5｜運用のための実務ガイド（トラブルシューティングと安全策）

## 第1章：エラーとの付き合い方

### 1-1. エラーは信号に過ぎない

#### 思考のプロセス：パニックにならないための知識

システムを動かし始めると、予期せぬエラーに遭遇することがあります。
見慣れない赤い文字が表示されると、エンジニアであっても一瞬ドキッとするものです。
しかし、ここで感情的にならないでください。
エラーログは、システムがあなたに送ってきている**「状況を知らせるシグナル」**です。

重要なのは、そのエラーが「自分のせい（4xx）」なのか「相手のせい（5xx）」なのかを切り分けることです。

### 1-2. 400番台：設定を見直すサイン (Client Error)

400番台のエラーが出た場合、ボールはこちら側にあります。

*   **400 Bad Request**:
    *   **状況**: リクエストの内容が形式に合っていない。
    *   **対処**: 文字数超過や、画像のフォーマット違反がほとんどです。「ペイロード（送ったデータ）」を見直します。
*   **401 Unauthorized**:
    *   **状況**: 認証失敗。
    *   **対処**: 焦らず `.env` ファイルを確認します。コピペミスによる `Space` の混入などが典型的な原因です。
*   **429 Too Many Requests**:
    *   **状況**: アクセス過多。
    *   **思考**: これは「システムが元気に動きすぎている」という嬉しい悲鳴でもあります。15分休憩しましょう。

### 1-3. 500番台：待つことが正解 (Server Error)

*   **500 Internal Server Error**
*   **503 Service Unavailable**

これらはX（プラットフォーム）側で起きている問題です。
この時、多くの人が「自分のコードがおかしいのでは？」と疑い、正常なコードを弄り回して壊してしまう（二次災害）ことがあります。

**「500番台は、コーヒーを飲む時間」**。
これをルールとして定めておくだけで、無駄なデバッグ時間を削減できます。

#### Tips: 「初心者にわかるように」という魔法の言葉
エラーの意味がわからず不安な時は、AIにこう聞いてみてください。
**「このエラーの原因と対処法を、非エンジニアにもわかるように、専門用語を使わずに解説してください」**

AIは、「今はXのサーバーが混み合っているだけなので、何もせずに待っていれば大丈夫ですよ」といった、安心できる言葉に翻訳してくれます。
恐怖心を取り除くために、AIの翻訳機能を使う。これも立派なハックです。

## 第2章：AIへの「目の提供」：スクリーンショット活用

### 2-1. 画像で伝えるとスムーズな場合も

#### 比較検討：テキストコピペ vs スクリーンショット

開発者ポータルの設定画面などで詰まった時、AIへの質問方法には二つの選択肢があります。

1.  **テキスト説明**: 「設定画面の真ん中あたりにあるチェックボックスが...」と言語化する。
2.  **画像共有**: スクリーンショットを撮って貼り付ける。

テキスト説明は、言語化コストが高く、かつAIに誤って伝わるリスクがあります。
一方で画像共有は、一瞬でコンテキスト（ボタンの位置、有効/無効の状態など）を共有できます。

Antigravity（マルチモーダルAI）を使う最大のメリットはここにあります。
視覚情報を共有することで、デバッグの速度は何倍にも上がります。

### 2-2. 安全のためのマナー（黒塗り）

ただし、画像をアップロードする際には、セキュリティとのトレードオフが発生します。
APIキーやアクセストークン、個人情報が映り込むリスクです。

**判断の基準**:
「便利さ」と「安全性」を天秤にかけた時、常に**安全性**を優先してください。
面倒でも、Macのプレビュー機能やペイントツールで、キー部分は黒塗り（Masking）する。
このひと手間を惜しまないことが、長く安全に運用を続けるための条件です。

## 第3章：Deep Research の活用シーン

### 3-1. 最新情報は検索機能で補完する

ご存知の通り、AIモデルの学習データには期間的な区切り（知識の期限）があります。
そのため、APIの仕様変更や料金改定といった「昨日のニュース」については、AIは嘘をつく（古い情報を自信満々に答える）可能性があります。

### 3-2. 検索機能（Browsing）の使い分け

そのような時は、AIの **Web Browsing（検索）機能** をオンにします。
Antigravity は、Google検索と連動しているため、この「最新情報の取得」において他のAIより優位性があります。

#### 使い分けの指針
*   **コードを書く、文章を直す**: Browsing **OFF**（速度と論理性を優先）
*   **料金を調べる、API仕様を確認する**: Browsing **ON**（事実の鮮度を優先）

道具の特性を理解し、モードを切り替える。
これもまた、システムオーナーとしての重要なスキルです。

## 第4章：この章のまとめ

### 確認事項

*   [x] エラーログを「感情」ではなく「シグナル」として受け取る。
*   [x] 500番台のエラー時は、コードを触らずに待機するという判断ができる。
*   [x] 画面操作に迷ったら、黒塗りで安全を確保した上で、スクリーンショットを活用する。
*   [x] 情報の鮮度が必要な場合は、意識的にBrowsing機能を使う。

トラブルは、システム運用には付き物ですが、対処法を知っていれば怖くありません。
ここまでで、安全に運用を続けるための知識は十分に揃いました。

次はいよいよ最終章です。
ここまでの取り組みが、将来的にどのような価値（資産）に繋がっていくのか。
その展望について、少しお話しさせてください。
