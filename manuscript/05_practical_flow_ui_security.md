# Part 5｜詰まらないための実務フロー（API・UI・セキュリティ）

## 第1章：エラーは「失敗」ではなく「信号」だ

### 1-1. エンジニアとしてエラーに向き合う

システムを動かせば、必ず赤い文字（エラー）が出る。
非エンジニアは画面に赤字が出た瞬間にパニックになり、「壊れた！」「もうダメだ！」と思考停止する。
だが、あなたはシステムオーナーだ。
エラーログは、システムからの**「メッセージ（手紙）」**だと捉えよ。

エラーコードには明確な意味がある。
特に HTTP Status Code は、責任の所在を明確にしてくれる。

### 1-2. 400番台：あなたが悪い (Client Error)

400番台のエラーが出たら、それは100%あなたの責任だ。コードか設定が間違っている。

*   **400 Bad Request**:
    *   **意味**: クライアント（あなた）のリクエスト形式がおかしい。
    *   **原因**: 文字数が140字（全角）を超えている。画像ファイルがデカすぎる。JSONの形式が壊れている。
    *   **対処**: エラーメッセージの `detail` を読め。そこに答えが書いてある。
*   **401 Unauthorized**:
    *   **意味**: 認証失敗。
    *   **原因**: `.env` のAPIキーが間違っている。コピペミスで末尾にスペースが入っている。実はキーの再生成（Regenerate）を忘れている。
    *   **対処**: キーを再発行し、`.env` を更新せよ。
*   **403 Forbidden**:
    *   **意味**: 権限不足。
    *   **原因**: 開発者ポータルで `Read Only` のままになっている（Part 3参照）。Basic Tier の支払いが切れている。
    *   **対処**: 設定を確認し、課金状況をチェックせよ。
*   **429 Too Many Requests**:
    *   **意味**: やりすぎ。
    *   **原因**: ループ処理で短時間に投稿しすぎた。API制限（Rate Limit）に引っかかった。
    *   **対処**: 落ち着け。15分待て。スクリプトに `time.sleep()` を入れろ。

「動かない！」とAIに叫ぶ前に、ステータスコードを見ろ。
400番台なら、あなたがコードを直せば必ず動く。

### 1-3. 500番台：世界が悪い (Server Error)

*   **500 Internal Server Error**: Xのサーバー内部でエラーが起きた。
*   **502 Bad Gateway**: 中継サーバーがおかしい。
*   **503 Service Unavailable**: メンテ中か、過負荷（クジラが出ている状態）。

これらは**「寝て待て」**という合図だ。
あなたがどれだけコードを弄っても直らない。
イーロン・マスク率いるXのエンジニアたちが直すのを待つしかない。
PCを閉じて、散歩に行こう。それが最も生産的な対処法だ。

## 第2章：AIへの「目の提供」：スクリーンショット

### 2-1. 言葉で説明するな、見せろ

Developer Portal の設定画面や、AWSのコンソールなどで詰まった時。
状況をチャット（テキスト）だけで説明しようとするのは、時間の無駄だ。

「青いボタンの下にある設定項目がグレーアウトしていて...」
「一番下のチェックボックスが押せないんだけど...」

そんな説明を打つ暇があったら、**Cmd + Shift + 4**（Macの場合）を押せ。
スクリーンショットを撮れ。

2026年現在のマルチモーダルAI（GPT-4o, Claude 3.5, Gemini等）は、画像認識能力が人間並みかそれ以上だ。
画像をペタッと貼り付け、「これで権限エラーが出る。どこを直すべき？」と聞けばいい。
AIは画像のDOM構造やUIテキストを解析し、
「右上の『Edit』ボタンを押して、『App permissions』セクションを開いてください。そこにあるトグルスイッチがオフになっています」
と、座標単位で正解を教えてくれる。

### 2-2. [重要] 黒塗りのマナー（Masking）

ただし、これには重大なセキュリティリスクがある。
**API Key や Access Token が映っている画面**をそのままアップロードしてはいけない。

AIプロバイダ（OpenAI等）の学習ポリシーにもよるが、アップロードした画像が将来の学習データに使われる可能性はゼロではないし、チャット履歴に残ることで、画面共有時などに他人に見られるリスクもある。

これは「デジタルタトゥー」だ。
一度漏れたキーは、誰かに使われるまで気付かない。

**【鉄の掟】**
1.  **スクショを撮る。**
2.  **Macのプレビュー等で開く。**
3.  **重要な文字列（Key, Secret, Email, IP Address）を「塗りつぶしツール」で黒く塗る。**
4.  **保存して、それからアップロードする。**

これを息をするように行え。
セキュリティ意識の低いエンジニアは、システムオーナー失格だ。

## 第3章：Deep Research の使いどころ

### 3-1. 2026年の仕様は2024年のAIにはわからない

AIモデルには「Knowledge Cutoff（知識の期限）」がある。
たとえ最新モデルでも、学習データの収集にはラグがある。

「X API v2 の最新仕様」について聞いても、AIは平気で「v1.1のエンドポイント」を教えたりする（v1.1はとっくに廃止されているのに）。
プラットフォームの仕様変更が激しい2026年において、AIの「記憶」だけに頼るのは危険だ。

### 3-2. 検索機能（Browsing / Deep Research）の活用

ここで使うのが、AIの **Web Browsing（検索）機能** だ。
これはAIが自らGoogle検索を行い、最新の公式ドキュメントを読みに行ってくれる機能だ。

#### 使うべき場面 (Use Browsing)
*   **最新の事実**: 「2026年1月現在の X API Basic Plan の料金と制限は？」
*   **UIの変更**: 「Twitter Developer Portal のUIが変更されたらしいが、新しい作成フローは？」
*   **競合調査**: 「競合の〇〇というサービスが最近始めた新機能について知りたい」

#### 使わなくていい場面 (Just Chat)
*   **コード生成**: 「Pythonでリストをソートするコードを書いて」（枯れた技術は変わらない）
*   **論理的思考**: 「このエラーログの意味を教えて」（HTTPの仕様は変わらない）
*   **創作**: 「もっと皮肉の効いた言い回しを考えて」（ネット検索しても答えはない）

「事実（Fact）」を知りたい時は検索をオンにする。
「論理（Logic）」や「創作（Creation）」の時はオフにする（その方が速い）。
この使い分けができるようになれば、あなたの作業効率は最大化される。

## 第4章：この章の到達点（マイルストーン）

### この章のチェックリスト

*   [x] エラー発生時、ステータスコード（400系/500系）を見て、自分の責任かプラットフォームの責任か即座に切り分けられるようになった。
*   [x] UI操作に詰まったら、重要情報を黒塗り（Masking）したスクショをAIに投げて解決できるようになった。
*   [x] 「最新仕様」や「事実」を知りたい時だけ、意識的に検索機能をオンにする判断ができるようになった。
*   [x] エラーが出てもパニックにならず、「お、信号が来たな。修正のチャンスだ」と冷静に対処できるメンタルを手に入れた。

次はいよいよ最終章。
この手動（半自動）サイクルを、完全自動化（GitHub Actions）へと昇華させ、
あなたが寝ていてもシステムが動き続ける未来へ案内する。
そして、SNS運用を「労働」から「資産」へと変えるための最後のマインドセットを共有する。
